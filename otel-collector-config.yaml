receivers:
    otlp:
        protocols:
            grpc:
                endpoint: 0.0.0.0:4317
            http:
                endpoint: 0.0.0.0:4318
processors:
    batch:

exporters:
    otlphttp/jaeger:
        endpoint: "http://jaeger:4318"
    otlphttp/prometheus:
        endpoint: "http://prometheus:9090"
    elasticsearch:
        endpoints: [ "http://localhost:9200" ]   # Elasticsearch endpoint
        logs_index: "otel-logs-%{+yyyy.MM.dd}"       # daily index pattern
        user: ${ELASTIC_USERNAME}                         # optional if security enabled
        password: ${ELASTIC_PASSWORD}                    # optional if security enabled
        tls:
            insecure: false                        # disable TLS if using http

extensions:
    health_check:
        endpoint: 0.0.0.0:13133
    pprof:
        endpoint: 0.0.0.0:1777
    zpages:
        endpoint: 0.0.0.0:55679

service:
    extensions: [ health_check, pprof, zpages ]
    pipelines:
        traces:
            receivers: [ otlp ]
            processors: [ batch ]
            exporters: [ otlphttp/jaeger ]
        logs:
            receivers: [ otlp ]
            processors: [ batch ]
            exporters: [ elasticsearch ]
        metrics:
            receivers: [ otlp ]
            processors: [ batch ]
            exporters: [ otlphttp/prometheus ]
